zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: 846977d1dfed4968bc5f8bdb363285bc
    name: Templates/Operating systems
  templates:
  - uuid: e2307c94f1744af7a8f1f458a67af424
    template: Linux by Zabbix agent active
    name: Linux by Zabbix agent active
    description: |
      This is an official Linux template. It requires Zabbix agent 7.2 or newer.

      Notes on filesystem (FS) discovery:
        - The ext4/3/2 FS reserves space for privileged usage, typically set at 5% by default.
        - BTRFS allocates a default of 10% of the volume for its own needs.
        - To mitigate potential disasters, FS usage triggers are based on the maximum available space.
          - Utilization formula: 'pused = 100 - 100 * (available / total - free + available)'
        - The FS utilization chart, derived from graph prototypes, reflects FS reserved space as the difference between used and available space from the total volume.

      You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/387225-discussion-thread-for-official-zabbix-template-for-linux

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-2
    groups:
    - name: Templates/Operating systems
    tags:
    - tag: class
      value: os
    - tag: target
      value: linux
    macros:
    - macro: '{$AGENT.NODATA_TIMEOUT}'
      value: 30m
      description: No data timeout for active agents. Consider to keep it relatively
        high.
    - macro: '{$AGENT.TIMEOUT}'
      value: 5m
      description: Timeout after which agent is considered unavailable.
    - macro: '{$CPU.UTIL.CRIT}'
      value: '90'
      description: Critical threshold of CPU utilization expressed in %.
    - macro: '{$IF.ERRORS.WARN}'
      value: '2'
      description: Warning threshold of error packet rate. Can be used with interface
        name as context.
    - macro: '{$IF.UTIL.MAX}'
      value: '90'
      description: Used as a threshold in the interface utilization trigger.
    - macro: '{$IFCONTROL}'
      value: '1'
      description: Link status trigger will be fired only for interfaces where the
        context macro equals "1".
    - macro: '{$KERNEL.MAXFILES.MIN}'
      value: '256'
    - macro: '{$KERNEL.MAXPROC.MIN}'
      value: '1024'
    - macro: '{$LOAD_AVG_PER_CPU.MAX.WARN}'
      value: '1.5'
      description: The CPU load per core is considered sustainable. If necessary,
        it can be tuned.
    - macro: '{$MEMORY.AVAILABLE.MIN}'
      value: 20M
      description: Used as a thresholdin the memory available trigger.
    - macro: '{$MEMORY.UTIL.MAX}'
      value: '90'
      description: Used as a thresholdin the memory utilization trigger.
    - macro: '{$NET.IF.IFNAME.MATCHES}'
      value: ^.*$
      description: Used for network interface discovery. Can be overridden on the
        host or linked template level.
    - macro: '{$NET.IF.IFNAME.NOT_MATCHES}'
      value: (^Software Loopback 
        Interface|^NULL[0-9.]*$|^[Ll]o[0-9.]*$|^[Ss]ystem$|^Nu[0-9.]*$|^veth[0-9A-z]+$|docker[0-9]+|br-[a-z0-9]{12})
      description: Filters out `loopbacks`, `nulls`, docker `veth` links and `docker0`
        bridge by default.
    - macro: '{$SWAP.PFREE.MIN.WARN}'
      value: '50'
      description: The warning threshold of the minimum free swap.
    - macro: '{$VFS.DEV.DEVNAME.MATCHES}'
      value: .+
      description: Used for block device discovery. Can be overridden on the host
        or linked template level.
    - macro: '{$VFS.DEV.DEVNAME.NOT_MATCHES}'
      value: 
        ^(loop[0-9]*|sd[a-z][0-9]+|nbd[0-9]+|sr[0-9]+|fd[0-9]+|dm-[0-9]+|ram[0-9]+|ploop[a-z0-9]+|md[0-9]*|hcp[0-9]*|zram[0-9]*)
      description: Used for block device discovery. Can be overridden on the host
        or linked template level.
    - macro: '{$VFS.DEV.READ.AWAIT.WARN}'
      value: '20'
      description: The average response time (in ms) of disk read before the trigger
        fires.
    - macro: '{$VFS.DEV.WRITE.AWAIT.WARN}'
      value: '20'
      description: The average response time (in ms) of disk write before the trigger
        fires.
    - macro: '{$VFS.FS.FSNAME.MATCHES}'
      value: .+
      description: Used for filesystem discovery. Can be overridden on the host or
        linked template level.
    - macro: '{$VFS.FS.FSNAME.NOT_MATCHES}'
      value: ^(/dev|/sys|/run|/proc|.+/shm$)
      description: Used for filesystem discovery. Can be overridden on the host or
        linked template level.
    - macro: '{$VFS.FS.FSTYPE.MATCHES}'
      value: 
        ^(btrfs|ext2|ext3|ext4|reiser|xfs|ffs|ufs|jfs|jfs2|vxfs|hfs|apfs|refs|ntfs|fat32|zfs)$
      description: Used for filesystem discovery. Can be overridden on the host or
        linked template level.
    - macro: '{$VFS.FS.FSTYPE.NOT_MATCHES}'
      value: ^\s$
      description: Used for filesystem discovery. Can be overridden on the host or
        linked template level.
    - macro: '{$VFS.FS.INODE.PFREE.MIN.CRIT}'
      value: '10'
      description: The critical threshold of the filesystem metadata utilization.
    - macro: '{$VFS.FS.INODE.PFREE.MIN.WARN}'
      value: '20'
      description: The warning threshold of the filesystem metadata utilization.
    - macro: '{$VFS.FS.PUSED.MAX.CRIT}'
      value: '90'
      description: The critical threshold of the filesystem utilization.
    - macro: '{$VFS.FS.PUSED.MAX.WARN}'
      value: '80'
      description: The warning threshold of the filesystem utilization.
