zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
    name: Templates/Applications
  templates:
  - uuid: e785916967c14544b59c3644c3edda3a
    template: Kubernetes Kubelet by HTTP
    name: Kubernetes Kubelet by HTTP
    description: |
      Get Kubernetes kubelet metrics by HTTP agent from Prometheus metrics endpoint.

      Don't forget change macros {$KUBE.KUBELET.URL}, {$KUBE.API.TOKEN}.
      Some metrics may not be collected depending on your Kubernetes API server instance version and configuration.

      You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-0
    groups:
    - name: Templates/Applications
    tags:
    - tag: class
      value: software
    - tag: target
      value: kubelet
    - tag: target
      value: kubernetes
    macros:
    - macro: '{$KUBE.API.TOKEN}'
      description: Service account bearer token.
    - macro: '{$KUBE.KUBELET.CADVISOR.ENDPOINT}'
      value: /metrics/cadvisor
      description: cAdvisor metrics from Kubelet /metrics/cadvisor endpoint.
    - macro: '{$KUBE.KUBELET.METRIC.ENDPOINT}'
      value: /metrics
      description: Kubelet /metrics endpoint.
    - macro: '{$KUBE.KUBELET.PODS.ENDPOINT}'
      value: /pods
      description: Kubelet /pods endpoint.
    - macro: '{$KUBE.KUBELET.URL}'
      value: https://localhost:10250
      description: Kubernetes Kubelet instance URL.
