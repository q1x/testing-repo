zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
    name: Templates/Applications
  templates:
  - uuid: f397be2340734d24bc666102fbe184a5
    template: Kubernetes nodes by HTTP
    name: Kubernetes nodes by HTTP
    description: |
      Get Kubernetes nodes metrics by HTTP.
      Metrics are collected by requests to Kubernetes API.

      Don't forget to read the README.md for the correct setup of the template.

      You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Applications
    tags:
    - tag: class
      value: software
    - tag: target
      value: kubernetes
    - tag: target
      value: nodes
    macros:
    - macro: '{$KUBE.API.TOKEN}'
      description: Service account bearer token.
    - macro: '{$KUBE.API.URL}'
      value: https://kubernetes.default.svc.cluster.local:443
      description: Kubernetes API endpoint URL in the format <scheme>://<host>:<port>
    - macro: '{$KUBE.HTTP.PROXY}'
      description: Sets the HTTP proxy to `http_proxy` value. If this parameter is
        empty, then no proxy is used.
    - macro: '{$KUBE.LLD.FILTER.NODE.MATCHES}'
      value: .*
      description: Filter of discoverable nodes.
    - macro: '{$KUBE.LLD.FILTER.NODE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Filter to exclude discovered nodes.
    - macro: '{$KUBE.LLD.FILTER.NODE.ROLE.MATCHES}'
      value: .*
      description: Filter of discoverable nodes by role.
    - macro: '{$KUBE.LLD.FILTER.NODE.ROLE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Filter to exclude discovered node by role.
    - macro: '{$KUBE.LLD.FILTER.POD.NAMESPACE.MATCHES}'
      value: .*
      description: Filter of discoverable pods by namespace.
    - macro: '{$KUBE.LLD.FILTER.POD.NAMESPACE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Filter to exclude discovered pods by namespace.
    - macro: '{$KUBE.NODE.FILTER.ANNOTATIONS}'
      description: Annotations to filter nodes (regex in values are supported). See
        the template's README.md for details.
    - macro: '{$KUBE.NODE.FILTER.LABELS}'
      description: Labels to filter nodes (regex in values are supported). See the
        template's README.md for details.
    - macro: '{$KUBE.NODES.ENDPOINT.NAME}'
      value: zabbix-zabbix-helm-chrt-agent
      description: Kubernetes nodes endpoint name. See "kubectl -n monitoring get
        ep".
    - macro: '{$KUBE.POD.FILTER.ANNOTATIONS}'
      description: Annotations to filter pods (regex in values are supported). See
        the template's README.md for details.
    - macro: '{$KUBE.POD.FILTER.LABELS}'
      description: Labels to filter Pods (regex in values are supported). See the
        template's README.md for details.
