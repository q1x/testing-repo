zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
    name: Templates/Applications
  templates:
  - uuid: 52b2664578884d9eba62e47375c99f8e
    template: Elasticsearch Cluster by HTTP
    name: Elasticsearch Cluster by HTTP
    description: |
      The template to monitor Elasticsearch by Zabbix that work without any external scripts.
      It works with both standalone and cluster instances.
      The metrics are collected in one pass remotely using an HTTP agent.
      They are getting values from REST API '_cluster/health', '_cluster/stats', '_nodes/stats' requests.

      Setup:

      1. Set the hostname or IP address of the Elasticsearch host in the '{$ELASTICSEARCH.HOST}' macro.

      2. Set the login and password in the '{$ELASTICSEARCH.USERNAME}' and '{$ELASTICSEARCH.PASSWORD}' macros.

      3. If you use an atypical location of ES API, don't forget to change the macros '{$ELASTICSEARCH.SCHEME}','{$ELASTICSEARCH.PORT}'.

      You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/399473-discussion-thread-for-official-zabbix-template-for-elasticsearch

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Applications
    tags:
    - tag: class
      value: software
    - tag: target
      value: elasticsearch
    macros:
    - macro: '{$ELASTICSEARCH.FETCH_LATENCY.MAX.WARN}'
      value: '100'
      description: Maximum of fetch latency in milliseconds for trigger expression.
    - macro: '{$ELASTICSEARCH.FLUSH_LATENCY.MAX.WARN}'
      value: '100'
      description: Maximum of flush latency in milliseconds for trigger expression.
    - macro: '{$ELASTICSEARCH.HEAP_USED.MAX.CRIT}'
      value: '95'
      description: The maximum percent in the use of JVM heap for critically trigger
        expression.
    - macro: '{$ELASTICSEARCH.HEAP_USED.MAX.WARN}'
      value: '85'
      description: The maximum percent in the use of JVM heap for warning trigger
        expression.
    - macro: '{$ELASTICSEARCH.HOST}'
      value: <SET ELASTICSEARCH HOST>
      description: The hostname or IP address of the Elasticsearch host.
    - macro: '{$ELASTICSEARCH.INDEXING_LATENCY.MAX.WARN}'
      value: '100'
      description: Maximum of indexing latency in milliseconds for trigger expression.
    - macro: '{$ELASTICSEARCH.PASSWORD}'
      description: The password of the Elasticsearch.
    - macro: '{$ELASTICSEARCH.PORT}'
      value: '9200'
      description: The port of the Elasticsearch host.
    - macro: '{$ELASTICSEARCH.QUERY_LATENCY.MAX.WARN}'
      value: '100'
      description: Maximum of query latency in milliseconds for trigger expression.
    - macro: '{$ELASTICSEARCH.RESPONSE_TIME.MAX.WARN}'
      value: 10s
      description: The ES cluster maximum response time in seconds for trigger expression.
    - macro: '{$ELASTICSEARCH.SCHEME}'
      value: http
      description: The scheme of the Elasticsearch (http/https).
    - macro: '{$ELASTICSEARCH.USERNAME}'
      description: The username of the Elasticsearch.
