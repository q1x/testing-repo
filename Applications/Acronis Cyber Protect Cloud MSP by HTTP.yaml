zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
    name: Templates/Applications
  templates:
  - uuid: bf3107deff3a4aabab1e1c0ee71a3281
    template: Acronis Cyber Protect Cloud MSP by HTTP
    name: Acronis Cyber Protect Cloud MSP by HTTP
    description: |
      Discovers and monitors alerts, clients, devices using HTTP agent items.

      This template receives API token and datacenter URL from parent host, therefore no additional configuration is necessary.

      Read the template documentation prior to using this template.

      You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Applications
    tags:
    - tag: class
      value: application
    - tag: target
      value: acronis
    - tag: target
      value: cyber-protect-cloud
    macros:
    - macro: '{$ACRONIS.CPC.ACCESS_TOKEN}'
      type: SECRET_TEXT
      description: API access token.
    - macro: '{$ACRONIS.CPC.ALERT.DISCOVERY.CATEGORY.MATCHES}'
      value: .*
      description: Sets the alert category regex filter to use in alert discovery
        for including.
    - macro: '{$ACRONIS.CPC.ALERT.DISCOVERY.CATEGORY.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Sets the alert category regex filter to use in alert discovery
        for excluding.
    - macro: '{$ACRONIS.CPC.ALERT.DISCOVERY.RESOURCE.MATCHES}'
      value: .*
      description: Sets the alert resource name regex filter to use in alert discovery
        for including.
    - macro: '{$ACRONIS.CPC.ALERT.DISCOVERY.RESOURCE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Sets the alert resource name regex filter to use in alert discovery
        for excluding.
    - macro: '{$ACRONIS.CPC.ALERT.DISCOVERY.SEVERITY.MATCHES}'
      value: .*
      description: Sets the alert severity regex filter to use in alert discovery
        for including.
    - macro: '{$ACRONIS.CPC.ALERT.DISCOVERY.SEVERITY.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Sets the alert severity regex filter to use in alert discovery
        for excluding.
    - macro: '{$ACRONIS.CPC.CUSTOMER.DISCOVERY.KIND.MATCHES}'
      value: customer
      description: Sets the customer name regex filter to use in customer discovery
        for including.
    - macro: '{$ACRONIS.CPC.CUSTOMER.DISCOVERY.NAME.MATCHES}'
      value: .*
      description: Sets the customer name regex filter to use in customer discovery
        for including.
    - macro: '{$ACRONIS.CPC.CUSTOMER.DISCOVERY.NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Sets the customer name regex filter to use in customer discovery
        for excluding.
    - macro: '{$ACRONIS.CPC.CYBERFIT.HIGH}'
      value: '579'
      description: CyberFit score threshold for "high" severity trigger.
    - macro: '{$ACRONIS.CPC.CYBERFIT.WARN}'
      value: '669'
      description: CyberFit score threshold for "warning" severity trigger.
    - macro: '{$ACRONIS.CPC.DATACENTER.URL}'
      description: Acronis Cyber Protect Cloud datacenter URL, e.g., https://eu2-cloud.acronis.com.
    - macro: '{$ACRONIS.CPC.DEVICE.DISCOVERY.TENANT.MATCHES}'
      value: .*
      description: Sets the tenant name regex filter to use in device discovery for
        including.
    - macro: '{$ACRONIS.CPC.DEVICE.DISCOVERY.TENANT.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Sets the tenant name regex filter to use in device discovery for
        excluding.
    - macro: '{$ACRONIS.CPC.DEVICE.RESOURCE.TYPE}'
      value: resource.machine
      description: Comma separated list of resource types for devices retrieval.
    - macro: '{$ACRONIS.CPC.HTTP.PROXY}'
      description: Sets the HTTP proxy for the authorization item. Host prototypes
        will also use this value for HTTP proxy. If this parameter is empty, then
        no proxy is used.
    - macro: '{$ACRONIS.CPC.MSP.TENANT.UUID}'
      description: UUID for MSP.
    - macro: '{$ACRONIS.CPC.OFFSET.SCHEDULED.ANTIMALWARE}'
      value: '-180'
      description: Offset time in seconds for scheduled antimalware scan trigger check.
    - macro: '{$ACRONIS.CPC.OFFSET.SCHEDULED.BACKUP}'
      value: '-180'
      description: Offset time in seconds for scheduled backup run trigger check.
    - macro: '{$ACRONIS.CPC.OFFSET.SCHEDULED.PATCH}'
      value: '-180'
      description: Offset time in seconds for scheduled patch management run trigger
        check.
    - macro: '{$ACRONIS.CPC.OFFSET.SCHEDULED.VULNERABILITY}'
      value: '-180'
      description: Offset time in seconds for scheduled vulnerability assessment run
        trigger check.
    - macro: '{$ACRONIS.CPC.PATH.ACCOUNT.MANAGEMENT}'
      value: /api/2
      description: Sub-path for the Account Management API.
    - macro: '{$ACRONIS.CPC.PATH.AGENTS}'
      value: /api/agent_manager/v2
      description: Sub-path for the Agents API.
    - macro: '{$ACRONIS.CPC.PATH.ALERTS}'
      value: /api/alert_manager/v1
      description: Sub-path for the Alerts API.
    - macro: '{$ACRONIS.CPC.PATH.RESOURCE.MANAGEMENT}'
      value: /api/resource_management/v4
      description: Sub-path for the Resource Management API.
