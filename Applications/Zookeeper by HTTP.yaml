zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
    name: Templates/Applications
  templates:
  - uuid: b606eda347ea4663a33ad4d12a482750
    template: Zookeeper by HTTP
    name: Zookeeper by HTTP
    description: |
      This template is designed for the effortless deployment of Apache Zookeeper monitoring by Zabbix via HTTP and doesn't require any external scripts.

      This template works with standalone and cluster instances. Metrics are collected from each Zookeeper node by requests to AdminServer

      Setup:

      1. Enable the AdminServer and configure the parameters according to the official documentation:
      https://zookeeper.apache.org/doc/current/zookeeperAdmin.html#sc_adminserver_config

      2. Set the hostname or IP address of the Apache Zookeeper host in the '{$ZOOKEEPER.HOST}' macro. You can also change the '{$ZOOKEEPER.COMMAND_URL}', '{$ZOOKEEPER.PORT}' and '{$ZOOKEEPER.SCHEME}' macros if necessary.

      You can discuss this template or leave feedback on our forum:
      https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Applications
    tags:
    - tag: class
      value: application
    - tag: target
      value: zookeeper
    macros:
    - macro: '{$ZOOKEEPER.COMMAND_URL}'
      value: commands
      description: The URL for listing and issuing commands relative to the root URL
        (admin.commandURL).
    - macro: '{$ZOOKEEPER.FILE_DESCRIPTORS.MAX.WARN}'
      value: '85'
      description: Maximum percentage of file descriptors usage alert threshold (for
        trigger expression).
    - macro: '{$ZOOKEEPER.HOST}'
      value: <SET ZOOKEEPER HOST>
      description: The hostname or IP address of the Apache Zookeeper host.
    - macro: '{$ZOOKEEPER.OUTSTANDING_REQ.MAX.WARN}'
      value: '10'
      description: Maximum number of outstanding requests (for trigger expression).
    - macro: '{$ZOOKEEPER.PENDING_SYNCS.MAX.WARN}'
      value: '10'
      description: Maximum number of pending syncs from the followers (for trigger
        expression).
    - macro: '{$ZOOKEEPER.PORT}'
      value: '8080'
      description: The port the embedded Jetty server listens on (admin.serverPort).
    - macro: '{$ZOOKEEPER.SCHEME}'
      value: http
      description: Request scheme which may be http or https
