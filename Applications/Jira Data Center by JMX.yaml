zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
    name: Templates/Applications
  templates:
  - uuid: a7f0c853c6634b1dacaaf43c2a0d9375
    template: Jira Data Center by JMX
    name: Jira Data Center by JMX
    description: |
      This template is used for monitoring Jira Data Center health. It is designed for standalone operation for on-premises Jira installations.

      This template uses a single data source, JMX, which requires JMX RMI setup of your Jira application and Java Gateway setup on the Zabbix side.
      If you need "Garbage collector" and "Web server" monitoring, add "Generic Java JMX" and "Apache Tomcat by JMX" templates on the same host.

      You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

      Setup:
        Metrics are collected by JMX.
        0. Deploy the Zabbix Java Gateway component ([instructions](https://www.zabbix.com/documentation/7.2/manual/concepts/java)).
        1. Enable and configure JMX access to Jira Data Center. See documentation for [instructions](https://confluence.atlassian.com/adminjiraserver/live-monitoring-using-the-jmx-interface-939707304.html).
        2. Assign the "Jira Data Center by JMX" template to the host with a JMX interface.
        2. If your Jira installation requires authentication for JMX, set the values in the host macros `{$JMX.USERNAME}` and `{$JMX.PASSWORD}`.
        3. (Optional) Set custom macro values and add macros with context for specific metrics following the macro description.
        4. (Optional) Assign the "Generic Java JMX" template for garbage collector monitoring.
        5. (Optional) Assign the "Apache Tomcat by JMX" template for web server monitoring.

      tested_on:
        - Jira Data Center 9.14.1
        - Jira Data Center 9.12.4

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Applications
    tags:
    - tag: class
      value: software
    - tag: target
      value: jira-datacenter
    macros:
    - macro: '{$JIRA_DC.DB.CONNECTION.USAGE.WARN}'
      value: '80'
      description: Warning threshold for database connections usage (%).
    - macro: '{$JIRA_DC.INDEXING.LATENCY.WARN}'
      value: '5'
      description: Warning threshold for indexing operation latency (in seconds).
    - macro: '{$JIRA_DC.ISSUE.LATENCY.WARN}'
      value: '5'
      description: Warning threshold for issue operation latency (in seconds).
    - macro: '{$JIRA_DC.LICENSE.USER.CAPACITY.WARN}'
      value: '80'
      description: User capacity warning threshold (%).
    - macro: '{$JIRA_DC.LLD.FILTER.MATCHES.HOMEFOLDERS}'
      value: local|share
      description: Used for storage metric discovery.
    - macro: '{$JIRA_DC.LLD.FILTER.MATCHES.INDEXING}'
      value: .*
      description: Used for indexing metric discovery.
    - macro: '{$JIRA_DC.LLD.FILTER.MATCHES.ISSUE}'
      value: .*
      description: Used for issue discovery.
    - macro: '{$JIRA_DC.LLD.FILTER.MATCHES.LICENSE}'
      value: .*
      description: Used for license discovery.
    - macro: '{$JIRA_DC.LLD.FILTER.MATCHES.MAIL}'
      value: .*
      description: Used for mail server connection metric discovery.
    - macro: '{$JIRA_DC.LLD.FILTER.NOT.MATCHES.HOMEFOLDERS}'
      value: NO MATCH
      description: Used for storage metric discovery.
    - macro: '{$JIRA_DC.LLD.FILTER.NOT.MATCHES.INDEXING}'
      value: NO MATCH
      description: Used for indexing metric discovery.
    - macro: '{$JIRA_DC.LLD.FILTER.NOT.MATCHES.ISSUE}'
      value: NO MATCH
      description: Used for issue discovery.
    - macro: '{$JIRA_DC.LLD.FILTER.NOT.MATCHES.LICENSE}'
      value: NO MATCH
      description: Used for license discovery.
    - macro: '{$JIRA_DC.LLD.FILTER.NOT.MATCHES.MAIL}'
      value: NO MATCH
      description: Used for mail server connection metric discovery.
    - macro: '{$JIRA_DC.STORAGE.LATENCY.WARN}'
      value: '5'
      description: Warning threshold for storage write operation latency (in seconds).
    - macro: '{$JMX.PASSWORD}'
      type: SECRET_TEXT
      description: Password for JMX.
    - macro: '{$JMX.USER}'
      description: User for JMX.
