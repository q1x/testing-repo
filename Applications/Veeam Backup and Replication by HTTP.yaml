zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
    name: Templates/Applications
  templates:
  - uuid: 738085dde4e749d49199e5e6fd4d56ab
    template: Veeam Backup and Replication by HTTP
    name: Veeam Backup and Replication by HTTP
    description: |
      This template is designed to monitor Veeam Backup and Replication.

      NOTE: The RESTful API may not be available for some editions, see (https://www.veeam.com/licensing-pricing.html) for more details.

      Setup:
        1. Create a user to monitor the service or use an existing read-only account.
        See (https://helpcenter.veeam.com/docs/backup/vbr_rest/reference/vbr-rest-v1-rev2.html?ver=110#tag/Login/operation/CreateToken!path=grant_type&t=request) for more details. 
        2. Link the template to a host.
        3. Configure the following macros: {$VEEAM.API.URL}, {$VEEAM.USER}, and {$VEEAM.PASSWORD}.

      You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Applications
    tags:
    - tag: class
      value: software
    - tag: target
      value: veeam
    macros:
    - macro: '{$CREATED.AFTER}'
      value: '7'
      description: Returns sessions that are created after chosen days.
    - macro: '{$JOB.NAME.MATCHES}'
      value: .*
      description: This macro is used in discovery rule to evaluate the states of
        jobs.
    - macro: '{$JOB.NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: This macro is used in discovery rule to evaluate the states of
        jobs.
    - macro: '{$JOB.STATUS.MATCHES}'
      value: .*
      description: This macro is used in discovery rule to evaluate the states of
        jobs.
    - macro: '{$JOB.STATUS.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: This macro is used in discovery rule to evaluate the states of
        jobs.
    - macro: '{$JOB.TYPE.MATCHES}'
      value: .*
      description: This macro is used in discovery rule to evaluate the states of
        jobs.
    - macro: '{$JOB.TYPE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: This macro is used in discovery rule to evaluate the states of
        jobs.
    - macro: '{$PROXIES.NAME.MATCHES}'
      value: .*
      description: This macro is used in proxies discovery rule.
    - macro: '{$PROXIES.NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: This macro is used in proxies discovery rule.
    - macro: '{$PROXIES.TYPE.MATCHES}'
      value: .*
      description: This macro is used in proxies discovery rule.
    - macro: '{$PROXIES.TYPE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: This macro is used in proxies discovery rule.
    - macro: '{$REPOSITORIES.NAME.MATCHES}'
      value: .*
      description: This macro is used in repositories discovery rule.
    - macro: '{$REPOSITORIES.NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: This macro is used in repositories discovery rule.
    - macro: '{$REPOSITORIES.TYPE.MATCHES}'
      value: .*
      description: This macro is used in repositories discovery rule.
    - macro: '{$REPOSITORIES.TYPE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: This macro is used in repositories discovery rule.
    - macro: '{$SESSION.NAME.MATCHES}'
      value: .*
      description: This macro is used in discovery rule to evaluate sessions.
    - macro: '{$SESSION.NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: This macro is used in discovery rule to evaluate sessions.
    - macro: '{$SESSION.TYPE.MATCHES}'
      value: .*
      description: This macro is used in discovery rule to evaluate sessions.
    - macro: '{$SESSION.TYPE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: This macro is used in discovery rule to evaluate sessions.
    - macro: '{$VEEAM.API.URL}'
      value: https://localhost:9419
      description: The Veeam API endpoint is a URL in the format `<scheme>://<host>:<port>`.
    - macro: '{$VEEAM.DATA.TIMEOUT}'
      value: '10'
      description: A response timeout for the API.
    - macro: '{$VEEAM.HTTP.PROXY}'
      description: Sets the HTTP proxy to `http_proxy` value. If this parameter is
        empty, then no proxy is used.
    - macro: '{$VEEAM.PASSWORD}'
      type: SECRET_TEXT
      description: The `password` of the Veeam Backup and Replication account. It
        is used to obtain an access token.
    - macro: '{$VEEAM.USER}'
      type: SECRET_TEXT
      description: The `username` of the Veeam Backup and Replication account. It
        is used to obtain an access token.
