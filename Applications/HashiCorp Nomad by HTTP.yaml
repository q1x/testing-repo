zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
    name: Templates/Applications
  templates:
  - uuid: f74adf26d9ab44ada318002d31fd2881
    template: HashiCorp Nomad by HTTP
    name: HashiCorp Nomad by HTTP
    description: |
      Discover HashiCorp Nomad servers and clients automatically.

      Don't forget to change macro {$NOMAD.ENDPOINT.API.URL}, {$NOMAD.TOKEN} values.

      You can discuss this template or leave feedback on our forum: https://www.zabbix.com/forum/zabbix-suggestions-and-feedback.

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Applications
    tags:
    - tag: class
      value: software
    - tag: target
      value: nomad
    macros:
    - macro: '{$NOMAD.API.RESPONSE.SUCCESS}'
      value: '200'
      description: HTTP API successful response code. Availability triggers threshold.
        Change, if needed.
    - macro: '{$NOMAD.CLIENT.DC.MATCHES}'
      value: .*
      description: The filter to include HashiCorp Nomad clients by datacenter belonging.
    - macro: '{$NOMAD.CLIENT.DC.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: The filter to exclude HashiCorp Nomad clients by datacenter belonging.
    - macro: '{$NOMAD.CLIENT.NAME.MATCHES}'
      value: .*
      description: The filter to include HashiCorp Nomad clients by name.
    - macro: '{$NOMAD.CLIENT.NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: The filter to exclude HashiCorp Nomad clients by name.
    - macro: '{$NOMAD.CLIENT.SCHEDULE.ELIGIBILITY.MATCHES}'
      value: .*
      description: The filter to include HashiCorp Nomad clients by scheduling eligibility.
    - macro: '{$NOMAD.CLIENT.SCHEDULE.ELIGIBILITY.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: The filter to exclude HashiCorp Nomad clients by scheduling eligibility.
    - macro: '{$NOMAD.DATA.TIMEOUT}'
      value: 15s
      description: Response timeout for an API.
    - macro: '{$NOMAD.ENDPOINT.API.URL}'
      value: http://localhost:4646
      description: API endpoint URL for one of the Nomad cluster members.
    - macro: '{$NOMAD.HTTP.PROXY}'
      description: Sets the HTTP proxy for script and HTTP agent items. If this parameter
        is empty, then no proxy is used.
    - macro: '{$NOMAD.SERVER.DC.MATCHES}'
      value: .*
      description: The filter to include HashiCorp Nomad servers by datacenter belonging.
    - macro: '{$NOMAD.SERVER.DC.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: The filter to exclude HashiCorp Nomad servers by datacenter belonging.
    - macro: '{$NOMAD.SERVER.NAME.MATCHES}'
      value: .*
      description: The filter to include HashiCorp Nomad servers by name.
    - macro: '{$NOMAD.SERVER.NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: The filter to exclude HashiCorp Nomad servers by name.
    - macro: '{$NOMAD.TOKEN}'
      value: <PUT YOUR AUTH TOKEN>
      description: Nomad authentication token.
