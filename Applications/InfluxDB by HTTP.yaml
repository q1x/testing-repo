zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
    name: Templates/Applications
  templates:
  - uuid: a6fe3640b23544e7ae15d438b38ce1cd
    template: InfluxDB by HTTP
    name: InfluxDB by HTTP
    description: |
      Get InfluxDB metrics by HTTP agent from Prometheus metrics endpoint.
      For organization discovery template need to use Authorization via API token. See docs: https://docs.influxdata.com/influxdb/v2.0/security/tokens/

      Don't forget change macros {$INFLUXDB.URL}, {$INFLUXDB.API.TOKEN}.
      Some metrics may not be collected depending on your InfluxDB instance version and configuration.

      You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Applications
    tags:
    - tag: class
      value: database
    - tag: target
      value: influxdb
    macros:
    - macro: '{$INFLUXDB.API.TOKEN}'
      description: InfluxDB API Authorization Token
    - macro: '{$INFLUXDB.ORG_NAME.MATCHES}'
      value: .*
      description: Filter of discoverable organizations
    - macro: '{$INFLUXDB.ORG_NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Filter to exclude discovered organizations
    - macro: '{$INFLUXDB.REQ.FAIL.MAX.WARN}'
      value: '2'
      description: Maximum number of query requests failures for trigger expression.
    - macro: '{$INFLUXDB.TASK.RUN.FAIL.MAX.WARN}'
      value: '2'
      description: Maximum number of tasks runs failures for trigger expression.
    - macro: '{$INFLUXDB.URL}'
      value: http://localhost:8086
      description: InfluxDB instance URL
