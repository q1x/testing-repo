zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: a571c0d144b14fd4a87a9d9b2aa9fcd6
    name: Templates/Applications
  templates:
  - uuid: 16f281aeb8904d3db8b66dda94611fcc
    template: PFSense by SNMP
    name: PFSense by SNMP
    description: |
      Template for monitoring pfSense by SNMP
      Setup:
        1. Enable SNMP daemon at Services in pfSense web interface https://docs.netgate.com/pfsense/en/latest/services/snmp.html
        2. Setup firewall rule to get access from Zabbix proxy or Zabbix server by SNMP https://docs.netgate.com/pfsense/en/latest/firewall/index.html#managing-firewall-rules
        3. Link template to the host


      MIBs used:
      BEGEMOT-PF-MIB
      HOST-RESOURCES-MIB

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Applications
    tags:
    - tag: class
      value: software
    - tag: target
      value: pfsense
    macros:
    - macro: '{$IF.ERRORS.WARN}'
      value: '2'
      description: Threshold of error packets rate for warning trigger. Can be used
        with interface name as context.
    - macro: '{$IF.UTIL.MAX}'
      value: '90'
      description: Threshold of interface bandwidth utilization for warning trigger
        in %. Can be used with interface name as context.
    - macro: '{$IFCONTROL}'
      value: '1'
      description: Macro for operational state of the interface for link down trigger.
        Can be used with interface name as context.
    - macro: '{$NET.IF.IFADMINSTATUS.MATCHES}'
      value: ^.*
      description: This macro is used in filters of network interfaces discovery rule.
    - macro: '{$NET.IF.IFADMINSTATUS.NOT_MATCHES}'
      value: ^2$
      description: Ignore down(2) administrative status.
    - macro: '{$NET.IF.IFALIAS.MATCHES}'
      value: .*
      description: This macro is used in filters of network interfaces discovery rule.
    - macro: '{$NET.IF.IFALIAS.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: This macro is used in filters of network interfaces discovery rule.
    - macro: '{$NET.IF.IFDESCR.MATCHES}'
      value: .*
      description: This macro is used in filters of network interfaces discovery rule.
    - macro: '{$NET.IF.IFDESCR.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: This macro is used in filters of network interfaces discovery rule.
    - macro: '{$NET.IF.IFNAME.NOT_MATCHES}'
      value: (^pflog[0-9.]*$|^pfsync[0-9.]*$)
      description: This macro is used in filters of network interfaces discovery rule.
    - macro: '{$NET.IF.IFOPERSTATUS.MATCHES}'
      value: ^.*$
      description: This macro is used in filters of network interfaces discovery rule.
    - macro: '{$NET.IF.IFOPERSTATUS.NOT_MATCHES}'
      value: ^6$
      description: Ignore notPresent(6).
    - macro: '{$NET.IF.IFTYPE.MATCHES}'
      value: .*
      description: This macro is used in filters of network interfaces discovery rule.
    - macro: '{$NET.IF.IFTYPE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: This macro is used in filters of network interfaces discovery rule.
    - macro: '{$SNMP.TIMEOUT}'
      value: 5m
      description: The time interval for SNMP availability trigger.
    - macro: '{$SOURCE.TRACKING.TABLE.UTIL.MAX}'
      value: '90'
      description: Threshold of source tracking table utilization trigger in %.
    - macro: '{$STATE.TABLE.UTIL.MAX}'
      value: '90'
      description: Threshold of state table utilization trigger in %.
