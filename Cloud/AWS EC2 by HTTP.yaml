zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: c2c162144c2d4c5491c8801193af4945
    name: Templates/Cloud
  templates:
  - uuid: 7af6d68b223a43d4bf8526cc5dc3fe2e
    template: AWS EC2 by HTTP
    name: AWS EC2 by HTTP
    description: |
      Get AWS EC2 and attached AWS EBS volumes metrics and uses the script item to make HTTP requests to the CloudWatch API.
      Don't forget to read the README.md for the correct setup of the template.

      You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Cloud
    tags:
    - tag: class
      value: software
    - tag: target
      value: aws
    - tag: target
      value: ec2
    macros:
    - macro: '{$AWS.ACCESS.KEY.ID}'
      description: Access key ID.
    - macro: '{$AWS.ASSUME.ROLE.ARN}'
      description: ARN assume role; add when using the `assume_role` authorization
        method.
    - macro: '{$AWS.AUTH_TYPE}'
      value: access_key
      description: 'Authorization method. Possible values: `access_key`, `assume_role`,
        `role_base`.'
    - macro: '{$AWS.EBS.BURST.CREDIT.BALANCE.MIN.WARN}'
      value: '20'
      description: Minimum percentage of Byte credits remaining for trigger expression.
    - macro: '{$AWS.EBS.BYTE.CREDIT.BALANCE.MIN.WARN}'
      value: '20'
      description: Minimum percentage of Byte credits remaining for trigger expression.
    - macro: '{$AWS.EBS.IO.CREDIT.BALANCE.MIN.WARN}'
      value: '20'
      description: Minimum percentage of I/O credits remaining for trigger expression.
    - macro: '{$AWS.EC2.CPU.CREDIT.BALANCE.MIN.WARN}'
      value: '50'
      description: Minimum number of free earned CPU credits for trigger expression.
    - macro: '{$AWS.EC2.CPU.CREDIT.SURPLUS.BALANCE.MAX.WARN}'
      value: '100'
      description: Maximum number of spent CPU Surplus credits for trigger expression.
    - macro: '{$AWS.EC2.CPU.UTIL.WARN.MAX}'
      value: '85'
      description: The warning threshold of the CPU utilization expressed in %.
    - macro: '{$AWS.EC2.INSTANCE.ID}'
      description: EC2 instance ID.
    - macro: '{$AWS.EC2.LLD.FILTER.ALARM_NAME.MATCHES}'
      value: .*
      description: Filter of discoverable alarms by name.
    - macro: '{$AWS.EC2.LLD.FILTER.ALARM_NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Filter to exclude discovered alarms by name.
    - macro: '{$AWS.EC2.LLD.FILTER.ALARM_SERVICE_NAMESPACE.MATCHES}'
      value: .*
      description: Filter of discoverable alarms by namespace.
    - macro: '{$AWS.EC2.LLD.FILTER.ALARM_SERVICE_NAMESPACE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Filter to exclude discovered alarms by namespace.
    - macro: '{$AWS.EC2.LLD.FILTER.VOLUME_TYPE.MATCHES}'
      value: .*
      description: Filter of discoverable volumes by type.
    - macro: '{$AWS.EC2.LLD.FILTER.VOLUME_TYPE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Filter to exclude discovered volumes by type.
    - macro: '{$AWS.PROXY}'
      description: Sets HTTP proxy value. If this macro is empty then no proxy is
        used.
    - macro: '{$AWS.REGION}'
      value: us-west-1
      description: Amazon EC2 Region code.
    - macro: '{$AWS.SECRET.ACCESS.KEY}'
      description: Secret access key.
    - macro: '{$AWS.STS.REGION}'
      value: us-east-1
      description: Region used in assume role request.
