zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: c2c162144c2d4c5491c8801193af4945
    name: Templates/Cloud
  templates:
  - uuid: a14ab6b4e80643fe8daa9d7288658f79
    template: AWS S3 bucket by HTTP
    name: AWS S3 bucket by HTTP
    description: |
      The template gets AWS S3 bucket metrics and uses the script item to make HTTP requests to the CloudWatch API.
      Don't forget to read the README.md for the correct setup of the template.

      You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Cloud
    tags:
    - tag: class
      value: software
    - tag: target
      value: aws
    - tag: target
      value: s3
    macros:
    - macro: '{$AWS.ACCESS.KEY.ID}'
      description: Access key ID.
    - macro: '{$AWS.ASSUME.ROLE.ARN}'
      description: ARN assume role; add when using the `assume_role` authorization
        method.
    - macro: '{$AWS.AUTH_TYPE}'
      value: access_key
      description: 'Authorization method. Possible values: `access_key`, `assume_role`,
        `role_base`.'
    - macro: '{$AWS.PROXY}'
      description: Sets HTTP proxy value. If this macro is empty then no proxy is
        used.
    - macro: '{$AWS.REQUEST.REGION}'
      value: us-east-1
      description: Region used in GET request `ListBuckets`.
    - macro: '{$AWS.S3.BUCKET.NAME}'
      description: S3 bucket name.
    - macro: '{$AWS.S3.LLD.FILTER.ALARM_NAME.MATCHES}'
      value: .*
      description: Filter of discoverable alarms by name.
    - macro: '{$AWS.S3.LLD.FILTER.ALARM_NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Filter to exclude discovered alarms by name.
    - macro: '{$AWS.S3.LLD.FILTER.ID.NAME.MATCHES}'
      value: .*
      description: Filter of discoverable request metrics by filter ID name.
    - macro: '{$AWS.S3.LLD.FILTER.ID.NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Filter to exclude discovered request metrics by filter ID name.
    - macro: '{$AWS.S3.UPDATE.INTERVAL}'
      value: '1800'
      description: Interval in seconds for getting request metrics. Used in the metric
        configuration and in the JavaScript API query. Must be between 1 and 86400
        seconds.
    - macro: '{$AWS.SECRET.ACCESS.KEY}'
      type: SECRET_TEXT
      description: Secret access key.
    - macro: '{$AWS.STS.REGION}'
      value: us-east-1
      description: Region used in assume role request.
