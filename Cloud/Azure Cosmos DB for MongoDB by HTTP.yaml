zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: c2c162144c2d4c5491c8801193af4945
    name: Templates/Cloud
  templates:
  - uuid: 29325098807848aa928b4192ad5e020f
    template: Azure Cosmos DB for MongoDB by HTTP
    name: Azure Cosmos DB for MongoDB by HTTP
    description: |
      This template is designed to monitor Microsoft Azure Cosmos DB for MongoDB by HTTP.
      It works without any external scripts and uses the script item.

      Setup:
        1. Create an Azure service principal via the Azure command-line interface (Azure CLI) for your subscription.
          `az ad sp create-for-rbac --name zabbix --role reader --scope /subscriptions/<subscription_id>`
          See https://docs.microsoft.com/en-us/cli/azure/create-an-azure-service-principal-azure-cli for more details.
        2. Link the template to a host.
        3. Configure the macros: {$AZURE.APP.ID}, {$AZURE.PASSWORD}, {$AZURE.TENANT.ID}, {$AZURE.SUBSCRIPTION.ID}, and {$AZURE.RESOURCE.ID}.

      You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback/

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Cloud
    tags:
    - tag: class
      value: software
    - tag: target
      value: azure
    - tag: target
      value: cosmosdb
    - tag: target
      value: mongodb
    macros:
    - macro: '{$AZURE.APP.ID}'
      description: The App ID of Microsoft Azure.
    - macro: '{$AZURE.DATA.TIMEOUT}'
      value: 15s
      description: API response timeout.
    - macro: '{$AZURE.DB.COSMOS.MONGO.AVAILABILITY}'
      value: '70'
      description: The warning threshold of the Cosmos DB for MongoDB service availability.
    - macro: '{$AZURE.PASSWORD}'
      type: SECRET_TEXT
      description: Microsoft Azure password.
    - macro: '{$AZURE.PROXY}'
      description: Sets the HTTP proxy value. If this macro is empty, then no proxy
        is used.
    - macro: '{$AZURE.RESOURCE.ID}'
      description: Microsoft Azure Cosmos DB ID.
    - macro: '{$AZURE.SUBSCRIPTION.ID}'
      description: Microsoft Azure subscription ID.
    - macro: '{$AZURE.TENANT.ID}'
      description: Microsoft Azure tenant ID.
