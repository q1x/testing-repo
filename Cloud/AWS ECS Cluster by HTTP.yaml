zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: c2c162144c2d4c5491c8801193af4945
    name: Templates/Cloud
  templates:
  - uuid: c94105c23220452baed03ba87f09ca12
    template: AWS ECS Cluster by HTTP
    name: AWS ECS Cluster by HTTP
    description: |
      The template gets AWS ECS Cluster metrics and uses the script item to make HTTP requests to the CloudWatch API.
      Don't forget to read the README.md for the correct setup of the template.

      You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Cloud
    tags:
    - tag: class
      value: software
    - tag: target
      value: aws
    - tag: target
      value: ecs
    macros:
    - macro: '{$AWS.ACCESS.KEY.ID}'
      description: Access key ID.
    - macro: '{$AWS.ASSUME.ROLE.ARN}'
      description: ARN assume role; add when using the `assume_role` authorization
        method.
    - macro: '{$AWS.AUTH_TYPE}'
      value: access_key
      description: 'Authorization method. Possible values: `access_key`, `assume_role`,
        `role_base`.'
    - macro: '{$AWS.ECS.CLUSTER.CPU.UTIL.WARN}'
      value: '70'
      description: The warning threshold of the cluster CPU utilization expressed
        in %.
    - macro: '{$AWS.ECS.CLUSTER.MEMORY.UTIL.WARN}'
      value: '70'
      description: The warning threshold of the cluster memory utilization expressed
        in %.
    - macro: '{$AWS.ECS.CLUSTER.NAME}'
      description: ECS cluster name.
    - macro: '{$AWS.ECS.CLUSTER.SERVICE.CPU.UTIL.WARN}'
      value: '80'
      description: The warning threshold of the cluster service CPU utilization expressed
        in %.
    - macro: '{$AWS.ECS.CLUSTER.SERVICE.MEMORY.UTIL.WARN}'
      value: '80'
      description: The warning threshold of the cluster service memory utilization
        expressed in %.
    - macro: '{$AWS.ECS.LLD.FILTER.ALARM_NAME.MATCHES}'
      value: .*
      description: Filter of discoverable alarms by name.
    - macro: '{$AWS.ECS.LLD.FILTER.ALARM_NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Filter to exclude discovered alarms by name.
    - macro: '{$AWS.ECS.LLD.FILTER.ALARM_SERVICE_NAMESPACE.MATCHES}'
      value: .*
      description: Filter of discoverable alarms by namespace.
    - macro: '{$AWS.ECS.LLD.FILTER.ALARM_SERVICE_NAMESPACE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Filter to exclude discovered alarms by namespace.
    - macro: '{$AWS.ECS.LLD.FILTER.SERVICE.MATCHES}'
      value: .*
      description: Filter of discoverable services by name.
    - macro: '{$AWS.ECS.LLD.FILTER.SERVICE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Filter to exclude discovered services by name.
    - macro: '{$AWS.PROXY}'
      description: Sets HTTP proxy value. If this macro is empty then no proxy is
        used.
    - macro: '{$AWS.REGION}'
      value: us-west-1
      description: Amazon ECS Region code.
    - macro: '{$AWS.SECRET.ACCESS.KEY}'
      type: SECRET_TEXT
      description: Secret access key.
    - macro: '{$AWS.STS.REGION}'
      value: us-east-1
      description: Region used in assume role request.
