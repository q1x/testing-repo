zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: c2c162144c2d4c5491c8801193af4945
    name: Templates/Cloud
  templates:
  - uuid: ff637e001b91472d8730eb7f10e65800
    template: OpenStack Nova by HTTP
    name: OpenStack Nova by HTTP
    description: |
      Discovers and monitors project limits, servers, services, hypervisors, availability zones, hypervisors and tenants with OpenStack Compute API by HTTP using script and HTTP agent items.

      This template receives token and service URL from parent host, therefore no additional configuration is necessary.

      Read the template documentation prior to using this template.

      You can discuss this template or leave feedback on our forum https://www.zabbix.com/forum/zabbix-suggestions-and-feedback

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Cloud
    tags:
    - tag: class
      value: cloud
    - tag: target
      value: nova
    - tag: target
      value: openstack
    macros:
    - macro: '{$OPENSTACK.AVAILABILITY_ZONE.DISCOVERY.NAME.MATCHES}'
      value: .*
      description: Sets the zone name regex filter to use in availability zone discovery
        for including.
    - macro: '{$OPENSTACK.AVAILABILITY_ZONE.DISCOVERY.NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Sets the zone name regex filter to use in availability zone discovery
        for excluding.
    - macro: '{$OPENSTACK.HTTP.PROXY}'
      description: Sets the HTTP proxy for script and HTTP agent items. If this parameter
        is empty, then no proxy is used.
    - macro: '{$OPENSTACK.HYPERVISOR.DISCOVERY.HOSTNAME.MATCHES}'
      value: .*
      description: Sets the hostname regex filter to use in hypervisor discovery for
        including.
    - macro: '{$OPENSTACK.HYPERVISOR.DISCOVERY.HOSTNAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Sets the hostname regex filter to use in hypervisor discovery for
        excluding.
    - macro: '{$OPENSTACK.HYPERVISOR.DISCOVERY.IP.MATCHES}'
      value: .*
      description: Sets the host IP address regex filter to use in hypervisor discovery
        for including.
    - macro: '{$OPENSTACK.HYPERVISOR.DISCOVERY.IP.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Sets the host IP address regex filter to use in hypervisor discovery
        for excluding.
    - macro: '{$OPENSTACK.HYPERVISOR.DISCOVERY.TYPE.MATCHES}'
      value: .*
      description: Sets the type regex filter to use in hypervisor discovery for including.
    - macro: '{$OPENSTACK.HYPERVISOR.DISCOVERY.TYPE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Sets the type regex filter to use in hypervisor discovery for excluding.
    - macro: '{$OPENSTACK.NOVA.CPU.UTIL.HIGH}'
      value: '90'
      description: Sets the percentage threshold for creating a high severity event
        about vCPU resource usage.
    - macro: '{$OPENSTACK.NOVA.CPU.UTIL.WARN}'
      value: '75'
      description: Sets the percentage threshold for creating a warning severity event
        about vCPU resource usage.
    - macro: '{$OPENSTACK.NOVA.INSTANCES.UTIL.HIGH}'
      value: '90'
      description: Sets the percentage threshold for creating a high severity event
        about instances resource count.
    - macro: '{$OPENSTACK.NOVA.INSTANCES.UTIL.WARN}'
      value: '75'
      description: Sets the percentage threshold for creating a warning severity event
        about instances resource count.
    - macro: '{$OPENSTACK.NOVA.INTERVAL.AVAILABILITY_ZONE}'
      value: 3m
      description: Interval for availability zone HTTP agent item query.
    - macro: '{$OPENSTACK.NOVA.INTERVAL.HYPERVISOR}'
      value: 3m
      description: Interval for hypervisor HTTP agent item query.
    - macro: '{$OPENSTACK.NOVA.INTERVAL.LIMITS}'
      value: 3m
      description: Interval for absolute limit HTTP agent item query.
    - macro: '{$OPENSTACK.NOVA.INTERVAL.SERVERS}'
      value: 3m
      description: Interval for server HTTP agent item queries.
    - macro: '{$OPENSTACK.NOVA.INTERVAL.SERVICES}'
      value: 3m
      description: Interval for service HTTP agent item query.
    - macro: '{$OPENSTACK.NOVA.INTERVAL.TENANTS}'
      value: 3m
      description: Interval for tenant HTTP agent item query.
    - macro: '{$OPENSTACK.NOVA.RAM.UTIL.HIGH}'
      value: '90'
      description: Sets the percentage threshold for creating a high severity event
        about RAM resource usage.
    - macro: '{$OPENSTACK.NOVA.RAM.UTIL.WARN}'
      value: '75'
      description: Sets the percentage threshold for creating a warning severity event
        about RAM resource usage.
    - macro: '{$OPENSTACK.NOVA.SERVICE.URL}'
      description: API endpoint for Nova Service, e.g., https://local.openstack:8774/v2.1.
    - macro: '{$OPENSTACK.NOVA.TENANT.PERIOD}'
      value: m
      description: |
        Period for which tenant usage statistics will be queried. Possible values are:
         'y' - current year until now,
         'm' - current month until now,
         'w' - current week until now,
         'd' - current day until now.
    - macro: '{$OPENSTACK.SERVER.DISCOVERY.NAME.MATCHES}'
      value: .*
      description: Sets the server name regex filter to use in server discovery for
        including.
    - macro: '{$OPENSTACK.SERVER.DISCOVERY.NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Sets the server name regex filter to use in server discovery for
        excluding.
    - macro: '{$OPENSTACK.SERVICES.DISCOVERY.BINARY.MATCHES}'
      value: .*
      description: Sets the binary name regex filter to use in compute services discovery
        for including.
    - macro: '{$OPENSTACK.SERVICES.DISCOVERY.BINARY.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Sets the binary name regex filter to use in compute services discovery
        for excluding.
    - macro: '{$OPENSTACK.SERVICES.DISCOVERY.HOST.MATCHES}'
      value: .*
      description: Sets the host name regex filter to use in compute services discovery
        for including.
    - macro: '{$OPENSTACK.SERVICES.DISCOVERY.HOST.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Sets the host name regex filter to use in compute services discovery
        for excluding.
    - macro: '{$OPENSTACK.TOKEN}'
      type: SECRET_TEXT
      description: API token for the monitoring user.
