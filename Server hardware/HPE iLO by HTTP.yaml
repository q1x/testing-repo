zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: e960332b3f6c46a1956486d4f3f99fce
    name: Templates/Server hardware
  templates:
  - uuid: d50f6dcfc3e44244a0fc9fd933607024
    template: HPE iLO by HTTP
    name: HPE iLO by HTTP
    description: |
      This template is designed for the effortless deployment of HPE iLO monitoring by Zabbix via iLO RESTful API and doesn't require any external scripts.

      Setup:

      1. Create the iLO user for monitoring (for example, `zbx_monitor`). The user will only need to have the `Login` privilege, which can be assigned manually or by assigning the `ReadOnly` role to the user.
      2. Set the iLO API endpoint URL in the `{$ILO.URL}` macro in the format `<scheme>://<host>[:port]/` (port is optional).
      3. Set the name of the user that you created in step 1 in the `{$ILO.USER}` macro.
      4. Set the password of the user that you created in step 1 in the `{$ILO.PASSWORD}` macro.

      For more details about HPE Redfish services, refer to the official documentation:
      https://servermanagementportal.ext.hpe.com/docs/redfishservices/

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Server hardware
    tags:
    - tag: class
      value: hardware
    - tag: target
      value: hpe
    - tag: target
      value: ilo
    macros:
    - macro: '{$ILO.COMPUTER_SYSTEM.DISCOVERY.HOSTNAME.MATCHES}'
      value: .+
      description: 'The computer system hostname regex filter to use in computer systems
        related metrics discovery for including. Can be used with the following context
        to include metrics of the particular entity: System, Storage, Controller,
        Drive, Volume.'
    - macro: '{$ILO.COMPUTER_SYSTEM.DISCOVERY.HOSTNAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: 'The computer system hostname regex filter to use in computer systems
        related metrics discovery for excluding. Can be used with the following context
        to exclude metrics of the particular entity: System, Storage, Controller,
        Drive, Volume.'
    - macro: '{$ILO.COMPUTER_SYSTEM.DISCOVERY.TYPE.MATCHES}'
      value: .+
      description: 'The computer system type regex filter to use in computer systems
        related metrics discovery for including. Can be used with the following context
        to include metrics of the particular entity: System, Storage, Controller,
        Drive, Volume.'
    - macro: '{$ILO.COMPUTER_SYSTEM.DISCOVERY.TYPE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: 'The computer system type regex filter to use in computer systems
        related metrics discovery for excluding. Can be used with the following context
        to exclude metrics of the particular entity: System, Storage, Controller,
        Drive, Volume.'
    - macro: '{$ILO.HTTP_PROXY}'
      description: The HTTP proxy for script items (set if needed). If the macro is
        empty, then no proxy is used.
    - macro: '{$ILO.INTERVAL}'
      value: 1m
      description: The update interval for the script item that retrieves data from
        API.
    - macro: '{$ILO.PASSWORD}'
      type: SECRET_TEXT
      description: The password of the user that is used for monitoring.
    - macro: '{$ILO.SENSOR.DISCOVERY.CONTEXT.MATCHES}'
      value: .+
      description: The sensor physical context regex filter to use in temperature
        sensors discovery for including.
    - macro: '{$ILO.SENSOR.DISCOVERY.CONTEXT.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: The sensor physical context regex filter to use in temperature
        sensors discovery for excluding.
    - macro: '{$ILO.SENSOR.DISCOVERY.NAME.MATCHES}'
      value: .+
      description: The sensor name regex filter to use in temperature sensors discovery
        for including.
    - macro: '{$ILO.SENSOR.DISCOVERY.NAME.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: The sensor name regex filter to use in temperature sensors discovery
        for excluding.
    - macro: '{$ILO.TIMEOUT}'
      value: 15s
      description: The timeout threshold for the script item that retrieves data from
        API.
    - macro: '{$ILO.URL}'
      description: The iLO API endpoint in the format "<scheme>://<host>[:port]/"
        (port is optional).
    - macro: '{$ILO.USER}'
      description: The name of the user that is used for monitoring.
