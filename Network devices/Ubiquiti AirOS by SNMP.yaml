zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: 36bff6c29af64692839d077febfc7079
    name: Templates/Network devices
  templates:
  - uuid: 6c235d126c1f4895acfe2156b140a886
    template: Ubiquiti AirOS by SNMP
    name: Ubiquiti AirOS by SNMP
    description: |
      Template Net Ubiquiti AirOS

      MIBs used:
      FROGFOOT-RESOURCES-MIB
      HOST-RESOURCES-MIB
      SNMPv2-MIB
      IEEE802dot11-MIB
      IF-MIB

      Known Issues:

        Description: UBNT unifi reports speed: like IF-MIB::ifSpeed.1 = Gauge32: 4294967295 for all interfaces
        Version: Firmware: BZ.ar7240.v3.7.51.6230.170322.1513
        Device: UBNT UAP-LR

        Description: UBNT AirMax(NanoStation, NanoBridge etc) reports ifSpeed: as 0 for VLAN and wireless(ath0) interfaces
        Version: Firmware: XW.ar934x.v5.6-beta4.22359.140521.1836
        Device: NanoStation M5

        Description: UBNT AirMax(NanoStation, NanoBridge etc) reports always return ifType: as ethernet(6) even for wifi,vlans and other types
        Version: Firmware: XW.ar934x.v5.6-beta4.22359.140521.1836
        Device: NanoStation M5

        Description: ifXTable is not provided in IF-MIB. So Interfaces Simple Template is used instead
        Version: all above
        Device: NanoStation, UAP-LR

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-1
    groups:
    - name: Templates/Network devices
    tags:
    - tag: class
      value: network
    - tag: target
      value: airos
    - tag: target
      value: ubiquiti
    macros:
    - macro: '{$CPU.UTIL.CRIT}'
      value: '90'
    - macro: '{$ICMP_LOSS_WARN}'
      value: '20'
      description: Warning threshold of ICMP packet loss in %.
    - macro: '{$ICMP_RESPONSE_TIME_WARN}'
      value: '0.15'
      description: Warning threshold of the average ICMP response time in seconds.
    - macro: '{$IF.ERRORS.WARN}'
      value: '2'
    - macro: '{$IF.UTIL.MAX}'
      value: '95'
    - macro: '{$IFCONTROL}'
      value: '1'
    - macro: '{$MEMORY.UTIL.MAX}'
      value: '90'
    - macro: '{$NET.IF.IFADMINSTATUS.MATCHES}'
      value: ^.*
    - macro: '{$NET.IF.IFADMINSTATUS.NOT_MATCHES}'
      value: ^2$
      description: Ignore down(2) administrative status
    - macro: '{$NET.IF.IFALIAS.MATCHES}'
      value: .*
    - macro: '{$NET.IF.IFALIAS.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
    - macro: '{$NET.IF.IFDESCR.MATCHES}'
      value: .*
    - macro: '{$NET.IF.IFDESCR.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
    - macro: '{$NET.IF.IFNAME.MATCHES}'
      value: ^.*$
    - macro: '{$NET.IF.IFNAME.NOT_MATCHES}'
      value: (^Software Loopback 
        Interface|^NULL[0-9.]*$|^[Ll]o[0-9.]*$|^[Ss]ystem$|^Nu[0-9.]*$|^veth[0-9a-z]+$|docker[0-9]+|br-[a-z0-9]{12})
      description: Filter out loopbacks, nulls, docker veth links and docker0 bridge
        by default
    - macro: '{$NET.IF.IFOPERSTATUS.MATCHES}'
      value: ^.*$
    - macro: '{$NET.IF.IFOPERSTATUS.NOT_MATCHES}'
      value: ^6$
      description: Ignore notPresent(6)
    - macro: '{$NET.IF.IFTYPE.MATCHES}'
      value: .*
    - macro: '{$NET.IF.IFTYPE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
    - macro: '{$SNMP.TIMEOUT}'
      value: 5m
      description: Time interval for the SNMP availability trigger.
