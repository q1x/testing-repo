zabbix_export:
  version: '7.2'
  template_groups:
  - uuid: 36bff6c29af64692839d077febfc7079
    name: Templates/Network devices
  templates:
  - uuid: fe7eb8b22ce84017b07bcab36e9032dc
    template: Juniper MX by SNMP
    name: Juniper MX by SNMP
    description: |
      The template for monitoring Juniper MX Series by SNMP.

      MIBs used:
      SNMPv2-MIB
      EtherLike-MIB
      HOST-RESOURCES-MIB
      IF-MIB
      OSPF-MIB
      JUNIPER-ALARM-MIB
      JUNIPER-DOM-MIB
      JUNIPER-MIB
      BGP4-V2-MIB-JUNIPER
      OSPFV3-MIB-JUNIPER

      Generated by official Zabbix template tool "Templator"
    vendor:
      name: Zabbix
      version: 7.2-0
    groups:
    - name: Templates/Network devices
    tags:
    - tag: class
      value: network
    - tag: target
      value: juniper
    - tag: target
      value: mx
    macros:
    - macro: '{$JUNIPER.MX.CPU.UTIL.CRIT}'
      value: '90'
      description: Threshold of CPU utilization for trigger in %. Can be used with
        interface name as context.
    - macro: '{$JUNIPER.MX.FAN_CRIT_STATUS}'
      value: '6'
      description: Threshold of status sensor for trigger. All statuses defined in
        valuemap `JUNIPER-MIB::jnxOperatingState`.
    - macro: '{$JUNIPER.MX.ICMP_LOSS_WARN}'
      value: '20'
      description: Warning threshold of ICMP packet loss in %.
    - macro: '{$JUNIPER.MX.ICMP_RESPONSE_TIME_WARN}'
      value: '0.15'
      description: Warning threshold of the average ICMP response time in seconds.
    - macro: '{$JUNIPER.MX.IF.ERRORS.WARN}'
      value: '2'
      description: Warning threshold of error packet rate. Can be used with interface
        name as context.
    - macro: '{$JUNIPER.MX.IF.UTIL.MAX}'
      value: '90'
      description: Used as a threshold in the interface utilization trigger.
    - macro: '{$JUNIPER.MX.IFCONTROL}'
      value: '1'
      description: Link status trigger will be fired only for interfaces where the
        context macro equals "1".
    - macro: '{$JUNIPER.MX.MEMORY.UTIL.MAX}'
      value: '90'
      description: Threshold of memory utilization for trigger in %. Can be used with
        interface name as context.
    - macro: '{$JUNIPER.MX.NET.IF.IFADMINSTATUS.MATCHES}'
      value: ^.*
      description: Used in network interface discovery rule filters.
    - macro: '{$JUNIPER.MX.NET.IF.IFADMINSTATUS.NOT_MATCHES}'
      value: ^2$
      description: Ignores `down(2)` administrative status
    - macro: '{$JUNIPER.MX.NET.IF.IFALIAS.MATCHES}'
      value: .*
      description: Used in network interface discovery rule filters.
    - macro: '{$JUNIPER.MX.NET.IF.IFALIAS.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Used in network interface discovery rule filters.
    - macro: '{$JUNIPER.MX.NET.IF.IFDESCR.MATCHES}'
      value: .*
      description: Used in network interface discovery rule filters.
    - macro: '{$JUNIPER.MX.NET.IF.IFDESCR.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Used in network interface discovery rule filters.
    - macro: '{$JUNIPER.MX.NET.IF.IFNAME.MATCHES}'
      value: ^.*$
      description: Used for network interface discovery. Can be overridden on the
        host or linked template level.
    - macro: '{$JUNIPER.MX.NET.IF.IFNAME.NOT_MATCHES}'
      value: (^Software Loopback 
        Interface|^NULL[0-9.]*$|^[Ll]o[0-9.]*$|^[Ss]ystem$|^Nu[0-9.]*$|^veth[0-9a-z]+$|docker[0-9]+|br-[a-z0-9]{12})
      description: Filters out loopbacks, nulls, docker `veth` links, and `docker0
        bridge` by default.
    - macro: '{$JUNIPER.MX.NET.IF.IFOPERSTATUS.MATCHES}'
      value: ^.*$
      description: Used for network interface discovery. Can be overridden on the
        host or linked template level.
    - macro: '{$JUNIPER.MX.NET.IF.IFOPERSTATUS.NOT_MATCHES}'
      value: ^6$
      description: Ignores `notPresent(6)`
    - macro: '{$JUNIPER.MX.NET.IF.IFTYPE.MATCHES}'
      value: .*
      description: Used in network interface discovery rule filters.
    - macro: '{$JUNIPER.MX.NET.IF.IFTYPE.NOT_MATCHES}'
      value: CHANGE_IF_NEEDED
      description: Used in network interface discovery rule filters.
    - macro: '{$JUNIPER.MX.PSU_CRIT_STATUS}'
      value: '6'
      description: Threshold of status sensor for trigger. All statuses defined in
        valuemap `JUNIPER-MIB::jnxOperatingState`.
    - macro: '{$JUNIPER.MX.SNMP.TIMEOUT}'
      value: 5m
      description: Time interval for the SNMP availability trigger.
    - macro: '{$JUNIPER.MX.TEMP_CRIT}'
      value: '60'
      description: Threshold of temperature sensor for trigger. Can be used with interface
        name as context.
    - macro: '{$JUNIPER.MX.TEMP_CRIT:"Routing Engine"}'
      value: '80'
      description: Threshold of temperature sensor for trigger. Used for Routing Engine.
    - macro: '{$JUNIPER.MX.TEMP_CRIT_LOW}'
      value: '5'
      description: Threshold of temperature sensor for trigger. Can be used with interface
        name as context.
    - macro: '{$JUNIPER.MX.TEMP_WARN}'
      value: '50'
      description: Threshold of temperature sensor for trigger. Can be used with interface
        name as context.
    - macro: '{$JUNIPER.MX.TEMP_WARN:"Routing Engine"}'
      value: '70'
      description: Threshold of temperature sensor for trigger. Used for Routing Engine.
